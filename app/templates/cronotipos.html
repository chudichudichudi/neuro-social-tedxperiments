{% macro render_porque_elegiste(field) %}
  <div class="row-fluid cronotipos_form" >
    <div class="span3">&nbsp;</div>
    <div class="span6">

    {{field.label }}
      <table>
        {% for subfield in field.choice_field %}   
        <tr>
          <td style="padding: 0px 10px;">
            {{ subfield }}
          </td>
          <td>
            {{ subfield.label }}
          </td>
        </tr>
        {% endfor %}    
        <tr>
          <td style="padding: 0px 10px;">
            {{ field.others_field.label }}
          </td>
          <td>
            {{ field.others_field }}
          </td>
        </tr>
      </table>
    </div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}



<!-- 
choice_field = RadioField(u'Turno en el que cursas ANÁLISIS MATEMÁTICO.',
                         choices=[(u'horario_de_trabajo', u'Por compatibilidad con mi horario de trabajo'),
                                  (u'me_siento_mejor', u'Porque es el horario en el que me siento mejor'),
                                  (u'mas_comodo_otras_actividades', u'Porque me queda más cómodo por mis otras actividades no laborales')])
others_field = TextField('Email') -->


{% macro render_date(field) %}
  <div class="row-fluid cronotipos_form" >
    <div class="span3">&nbsp;</div>
    <div class="span6">
      {{ field.label }}
      Mes: {{ field.mes_field }} Año: {{ field.anio_field}}
    </div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}



{% macro render_hour_field(field) %}
  <div class="row-fluid cronotipos_form" >
    <div class="span3">&nbsp;</div>
    <div class="span6">
      {{ field.label }}
      {{ field.hours_field }} : {{ field.minutes_field}}
    </div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}


{% macro render_minutes_field(field) %}
  <div class="row-fluid cronotipos_form" >
    <div class="span3">&nbsp;</div>
    <div class="span6">
      {{ field.label }}
      {{ field }}
    </div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}


{% macro render_radio(radio_field) %}
  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      {{radio_field.label }}
      <table>
        <tr>
          {% for subfield in radio_field %}   
            <td style="padding: 0px 10px;">
              {{ subfield }}
            </td>
          {% endfor %}    
        </tr>
        
        <tr>
          {% for subfield in radio_field %}   
            <td style="padding: 0px 10px;">
              {{ subfield.label }}
            </td>
          {% endfor %}  
        </tr>
      </table>
    </div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}

{% macro render_radio_horizontal(radio_field) %}
  
  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      {{radio_field.label }}
      <table>
        {% for subfield in radio_field %}   
        <tr>
          <td style="padding: 0px 10px;">
            {{ subfield }}
          </td>
          <td>
            {{ subfield.label }}
          </td>
        </tr>
        {% endfor %}    
      </table>
    </div>
    <div class="span3">&nbsp;</div>
  </div>
  
{% endmacro %}

{% macro render_row(field) %}
  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">{{ field.label }}{{ field }}</div>
    <div class="span3">&nbsp;</div>
  </div>
{% endmacro %}

{% from '_macros.html' import render_field %}

{% extends '/layouts/boilerplate.html' %}

{% block body_class %}main{% endblock %}

{% block layout %}
<div class="page-header centered-text">
  <h1>Cuestionario de preferencias diarias y hábitos de sueño</h1>
  <p>Todos los datos ingresados serán confidenciales y tratados de manera anónima.</p>
</div>

{% if form.errors %}
  {% for field_name, field_errors in form.errors|dictsort if field_errors %}
      {% for error in field_errors %}
          <div class="alert alert-error centered-text" style="margin-left: 10px; margin-right: 10px;">
            <a class="close" data-dismiss="alert">×</a>
            {{ form[field_name].label }} Elija una opción
          </div>
      </div>            
      {% endfor %}
  {% endfor %}        
{% endif %}


<div clas="row-fluid" style="padding-left: 30px; padding-right: 30px;">
  <h1>Bienvenido</h1>
  <p class="lead">Este es un cuestionario para averiguar las preferencias diarias y los habitos de sueños individuales en seres humanos.</p>
  <p>Por favor, lea la siguiente información antes de decidir participar de este experimento:</p>
  <div class="my-boxed-outer">
    <div class="my-boxed-inner" style="height: 100px;">
      <p><b>¿Cuál es el objetivo de esta encuesta?</b> El objetivo de esta investigación es estudiar las preferencias diarias y hábitos de sueño individuales en seres humanos.</p>

      <p><b>¿Qué tendré que hacer si decido participar?</b>  Deberá completar una serie de preguntas relacionadas con sus hábitos de sueño y sus preferencias diarias.</p>

      <p><b>¿Cuánto tiempo requiere el experimento?</b>El experimento puede completarse en aproximadamente <b>5 minutos</b>.</p>

      <p><b>¿De qué manera será utilizada la información que yo comparta con ustedes?</b>
      La información que usted nos brinde no será compartida con nadie y será tratada de manera confidencial y anónima.</p>

      <p><b>Si abandono una vez el experimento, ¿puedo volver a hacerlo en otro momento?</b> No. Debido a las características de la investigación, cada participante tiene solo una oportunidad para participar.</p>

      <p><b>¿Qué ocurre si me arrepiento y deseo abandonar el experimento antes de completarlo?</b>  Su participación en esta investigación es completamente voluntaria y puede abandonarlo en el momento que desee (cerrando el programa que está utilizando para navegar por internet).</p>

      <p><b>¿Cuáles son los riesgos asociados a la participación en esta investigación?</b> No esperamos ningún riesgo asociado a su participación. Aún así, recuerde que su participación es voluntaria y que podrá abandonar la encuesta cuando lo desee.</p>     

      <p><b>¿Cómo puedo contactarme con los investigadores responsables para hacerles consultas, comentarios, etc. relacionados con la investigación?</b>
      Si tiene alguna pregunta o comentario puede escribir a: María Juliana Leone (email: mleone@unq.edu.ar). Además, puede encontrar información de contacto de los directores de los laboratorios involucrados en nuestras páginas web:</p>
      <ul>
        <li>Laboratorio de Neurociencia (Universidad Torcuato Di Tella): http://neuro.org.ar/</li>
        <li>Laboratorio de Cronobiología (Universidad Nacional de Quilmes): http://cronos.unq.edu.ar/</li>
      </ul>

      <p><b>¿En qué proyecto está enmarcada esta investigación?</b>
      Esta investigación forma parte del proyecto “Complejidad y dinámica de procesos cognitivos: Estudios de alta resolución del flujo de información cortical durante una tarea cognitiva”.</p>

      <p><b>¿A quién debo contactar si tengo alguna queja o quiero reportar algún problema relacionado con la investigación?</b>
      Si tiene alguna queja o quiere reportar algún problema asociado con la investigación, por favor contáctese con: Comité de Ética en Investigación, Centro de Educación Médica e Investigaciones Clínicas “Norberto Quirno”. Hospital Universitario sede Saavedra, Av. Galván 4102. Ciudad de Buenos Aires, (C1425DQK) - República Argentina. Tel: 5299-0100, interno 2879. E-mail: pechavarria@cemic.edu.ar</p>
    </div>
  </div>
</div>


<form class="well form-horizontal" action="{{ url_for('cronotipos_results') }}" method="POST">
  {{ form.hidden_tag() }}

  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      <h2>Datos Personales</h2>
    </div>
    <div class="span3">&nbsp;</div>
  </div>

  {{ render_radio_horizontal(form.genero) }}
  {{ render_date(form.fecha_nacimiento) }}
  {{ render_row(form.email) }}
  {{ render_radio_horizontal(form.turno_analisis) }}

  {{ render_porque_elegiste(form.porque_elegiste_turno) }}

  {{ render_radio_horizontal(form.trabajas) }}



  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      <h2>¿Cómo es un <b>DÍA HÁBIL</b> tuyo?</h2>
      <p>Los días en que trabajás y/o estudiás</p>
      </div>
    <div class="span3">&nbsp;</div>
  </div>
  
  {{ render_hour_field(form.pregunta_1) }}
  {{ render_minutes_field(form.pregunta_2) }}
  {{ render_hour_field(form.pregunta_3) }}
  {{ render_radio(form.pregunta_4) }}

  
  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      <h2>¿Cómo es un <b>DÍA LIBRE</b> tuyo?</h2>
      <p>Los días en que NO trabajás NI estudiás.</p>
    </div>
    <div class="span3">&nbsp;</div>
  </div>

  
  {{ render_hour_field(form.pregunta_5) }}
  {{ render_minutes_field(form.pregunta_6) }}
  {{ render_hour_field(form.pregunta_7) }}
  {{ render_radio(form.pregunta_8) }}

  
  <div class="row-fluid">
    <div class="span3">&nbsp;</div>
    <div class="span6">
      <h2>SEGUNDA PARTE</h2>
      <ul>
        <li>Responda todas las preguntas en orden.</li>
        <li>Lea primero detenidamente cada una de las opciones, esto le garantizará una mayor comprensión de la pregunta y su significado.</li>
        <li>Responda cada pregunta en forma independiente de las demás. No vuelva atrás a chequear las respuestas dadas anteriormente.</li>
        <li>Seleccione sólo una respuesta.</li>
      </ul>
    </div>
    <div class="span3">&nbsp;</div>
  </div>
  
  {{ render_hour_field(form.pregunta_9) }}
  {{ render_hour_field(form.pregunta_10) }}
  {{ render_radio_horizontal(form.pregunta_11) }}
  {{ render_radio_horizontal(form.pregunta_12) }}
  {{ render_radio_horizontal(form.pregunta_13) }}
  {{ render_radio_horizontal(form.pregunta_14) }}
  {{ render_radio_horizontal(form.pregunta_15) }}
  {{ render_radio_horizontal(form.pregunta_16) }}
  {{ render_radio_horizontal(form.pregunta_17) }}
  {{ render_hour_field(form.pregunta_18) }}
  {{ render_radio_horizontal(form.pregunta_19) }}
  {{ render_radio_horizontal(form.pregunta_20) }}
  {{ render_radio_horizontal(form.pregunta_21) }}
  {{ render_radio_horizontal(form.pregunta_22) }}
  {{ render_radio_horizontal(form.pregunta_23) }}
  {{ render_radio_horizontal(form.pregunta_24) }}
  {{ render_hour_field(form.pregunta_25) }}
  {{ render_hour_field(form.pregunta_26) }}
  {{ render_radio_horizontal(form.pregunta_27) }}

  {{ render_row(form.comments) }}

  <div class="centered-text">
    
      <button type="submit" class="btn btn-primary btn-large centered">Terminar</button>
    
  </div>
</form>
<script type="text/javascript">
$(function () {
  $.each($('option[value="empty"]'), function (i, val) {
    $(val).attr('disabled', 'disabled');
  });
});
</script>
{% endblock %}